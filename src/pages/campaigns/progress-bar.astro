---
import Layout from "@/layouts/layout.astro";
import CodeBlock from "@/components/codeblock.astro";
import ProgressBarHTMLRaw from "@/CodeBlocks/ProgressBar.html?raw";
import ProgressBarHTML from "@/CodeBlocks/ProgressBar.html";
---

<Layout title="Petition with progress bar: Earth Charity">
    <section>
        <h2>An action page with a progress bar and a link</h2>
        <p>Imagine this was a campaign page on your main website.</p>
        <p>
            The number on the progress bar here is live-updated from a published
            Impact Stack page with the current number of signatures. <a
                href="https://demo2.impact-stack.org/node/216"
                >See the Impact Stack page here</a
            >.
        </p>
        <p>
            You could place the progress bar and button anywhere on your main
            website. You could edit the text around the progress bar to say
            anything you wanted.
        </p>

        <p>
            The 'Take Action' button on this page is a standard link that goes
            straight to the Impact Stack page with no prefilling of the form.

            <section class="action">
                <ProgressBarHTML />
                <a
                    class="button m-0 action-button"
                    href="https://demo2.impact-stack.org/node/216"
                    >Take action <span class="arrow">â†’</span></a
                >
            </section>
        </p>

        <section>
            <hr />
            <h2>How to do it</h2>
            <p>
                Here's some basic code to get you started. Most organisations
                would need a web developer to pick this up and adapt it for your
                needs and your website technology. If you put it on your main
                website it would likely inherit a lot of the existing styling,
                but we'd still expect you to need to do some work to make sure
                it looked on-brand for you.
            </p>

            <CodeBlock
                lang="html"
                code={ProgressBarHTMLRaw}
                codeTitle="Progress bar HTML and Javascript"
                text="See the Progress Bar Code"
            />
        </section>

        <style>
            section {
                margin-top: 4rem;

                .action {
                    display: flex;
                    flex-direction: column;
                    gap: 1rem;
                    border: 1px solid #90c92a;
                    max-width: fit-content;
                    padding: 1rem;
                    border-radius: 4px;
                    box-shadow:
                        0 1px 3px 0 rgb(0 0 0 / 0.1),
                        0 1px 2px -1px rgb(0 0 0 / 0.1);
                }
            }

            .action-button .arrow {
                display: inline-block;
                transition: transform 0.2s ease-out;
            }

            @media (prefers-reduced-motion: reduce) {
                .action-button .arrow {
                    transition: none;
                }
            }

            .action-button:hover .arrow {
                transform: translateX(6px);
            }
        </style>
    </section>
</Layout>
